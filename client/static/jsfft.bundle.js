!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.jsfft=r():e.jsfft=r()}(this,(()=>(()=>{"use strict";var e={801:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),n=function(){function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Float32Array;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),r instanceof e?(this.ArrayType=r.ArrayType,this.real=new this.ArrayType(r.real),this.imag=new this.ArrayType(r.imag)):(this.ArrayType=t,this.real=new this.ArrayType(r),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length}return t(e,[{key:"toString",value:function(){var e=[];return this.forEach((function(r,t){e.push("("+r.real.toFixed(2)+", "+r.imag.toFixed(2)+")")})),"["+e.join(", ")+"]"}},{key:"forEach",value:function(e){for(var r=this.length,t=Object.seal(Object.defineProperties({},{real:{writable:!0},imag:{writable:!0}})),n=0;n<r;n++)t.real=this.real[n],t.imag=this.imag[n],e(t,n,r)}},{key:"map",value:function(e){var r=this;return this.forEach((function(t,n,a){e(t,n,a),r.real[n]=t.real,r.imag[n]=t.imag})),this}},{key:"conjugate",value:function(){return new e(this).map((function(e){e.imag*=-1}))}},{key:"magnitude",value:function(){var e=new this.ArrayType(this.length);return this.forEach((function(r,t){e[t]=Math.sqrt(r.real*r.real+r.imag*r.imag)})),e}}]),e}();r.default=n}},r={};function t(n){var a=r[n];if(void 0!==a)return a.exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}var n={};return(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.ComplexArray=void 0;var r=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}();e.FFT=function(e){return l(e).FFT()},e.InvFFT=function(e){return l(e).InvFFT()},e.frequencyMap=function(e,r){return l(e).frequencyMap(r)};var a,i=(a=t(801))&&a.__esModule?a:{default:a},o=Math.PI,u=Math.SQRT1_2,f=e.ComplexArray=function(e){function t(){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(t,e),r(t,[{key:"FFT",value:function(){return c(this,!1)}},{key:"InvFFT",value:function(){return c(this,!0)}},{key:"frequencyMap",value:function(e){return this.FFT().map(e).InvFFT()}}]),t}(i.default);function l(e){return e instanceof f&&e||new f(e)}function c(e,r){var t=e.length;return t&t-1?function(e,r){var t=e.length;if(1===t)return e;for(var n=new f(t,e.ArrayType),a=function(e){for(var r=Math.sqrt(e),t=3;t<=r;){if(e%t==0)return t;t+=2}return e}(t),i=t/a,u=1/Math.sqrt(a),l=new f(i,e.ArrayType),s=0;s<a;s++){for(var h=0;h<i;h++)l.real[h]=e.real[h*a+s],l.imag[h]=e.imag[h*a+s];i>1&&(l=c(l,r));for(var p=Math.cos(2*o*s/t),y=(r?-1:1)*Math.sin(2*o*s/t),v=1,g=0,m=0;m<t;m++){var b=l.real[m%i],d=l.imag[m%i];n.real[m]+=v*b-g*d,n.imag[m]+=v*d+g*b;var w=[v*p-g*y,g=v*y+g*p];v=w[0],g=w[1]}}for(var T=0;T<t;T++)e.real[T]=u*n.real[T],e.imag[T]=u*n.imag[T];return e}(e,r):function(e,r){for(var t=e.length,n=function(e){for(var r=e.length,t=new Set,n=0;n<r;n++){var a=s(n,r);if(!t.has(n)){var i=[e.real[a],e.real[n]];e.real[n]=i[0],e.real[a]=i[1];var o=[e.imag[a],e.imag[n]];e.imag[n]=o[0],e.imag[a]=o[1],t.add(a)}}return e}(e),a=n.real,i=n.imag,f=1;f<t;){for(var l=Math.cos(o/f),c=(r?-1:1)*Math.sin(o/f),h=0;h<t/(2*f);h++)for(var p=1,y=0,v=0;v<f;v++){var g=2*h*f+v,m=g+f,b=a[g],d=i[g],w=p*a[m]-y*i[m],T=y*a[m]+p*i[m];a[g]=u*(b+w),i[g]=u*(d+T),a[m]=u*(b-w),i[m]=u*(d-T);var F=[p*l-y*c,p*c+y*l];p=F[0],y=F[1]}f<<=1}return n}(e,r)}function s(e,r){for(var t=0;r>1;)t<<=1,t+=1&e,e>>=1,r>>=1;return t}})(),n})()));