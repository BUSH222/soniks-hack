<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soniks custom WEBSDR iframe</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="/static/reception.css">
</head>
<body>
    <div class="container">
        <!-- sidebar -->
        <div class="sidebar" id="sidebar">
            <!-- panel 1 -->
            <div class="panel" id="panel1" draggable="true">
                <h3>Settings</h3>
                <label for="mhzAmount">Frequency (MHz):</label>
                <input id="mhzAmount" name="mhzAmount" placeholder="e.g. 100" value="100.1">
                <button id="setFrequency">OK</button>
                <label for="bandwidth">Bandwidth:</label>
                <input type="number" id="bandwidth" value="1.024" readonly/>
                <button id="stopSDR">Stop SDR</button>
            </div>
            <!-- panel 2 -->
            <div class="panel" id="panel2" draggable="true">
                <h3>Decoding Pipeline</h3>
                <select id="pipelineSelect" name="pipeline">
                    {% for pipeline in pipelines.items() %}
                        <option value="{{ pipeline[0] }}">{{ pipeline[1] }}</option>
                    {% endfor %}
                </select>
            </div>
            <!-- panel 3 -->
            <div class="panel" id="panel3" draggable="true">
                <h3>Data:</h3>
                <ul id="dataList" style="max-height: 200px; overflow-y: scroll;">
                </ul>
                <button id="saveDataBtn">Сохранить как наблюдение</button>
            </div>
        </div>

        <!-- content -->
        <div class="main">
            <!-- waterfall -->
            <div class="waterfall">
                <canvas id="frequencyCanvas" width="800" height="400" style="border:1px solid #ccc;"></canvas>
                <canvas id="waterfallCanvas" width="800" height="400" style="border:1px solid #ccc;"></canvas>
            </div>
            <!-- SNR graph and metrics -->
            <div class="graph">
                <canvas id="snrGraphCanvas"></canvas>
                <div class="metrics">
                    <div>SNR: <span id="snrValue">-- dB</span></div>
                    <div>RSSI: <span id="rssiValue">-- dBm</span></div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/reception.js"></script>
    <script src="/static/reception-buttonhelper.js"></script>
</body>
</html>